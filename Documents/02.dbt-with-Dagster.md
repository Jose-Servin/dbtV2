# Orchestrating dbt with Dagster

## Installing Dagster

To install Dagster, we `pip` installed 2 new packages.

```text
dagster-dbt==0.22.0
dagster-webserver==1.6.0
```

We must make sure to install these packages in our activated virtual environment and then update our `requirements.txt` file.

## Connecting Dagster and dbt

1. Set up the Dagster project scaffold - make sure to run this at the parent level of our `dbtlearnV2` project; so in `DBTV2`.

```terminal
dagster-dbt project scaffold --project-name dbt_dagster_project --dbt-project-dir=dbtlearnV2
```

![Dagster Scaffold](/images/dagster-scaffold.png)

We can see what our `dbt_dagster_project` consists of by running `tree` at the `dbt_dagster_project` level.

```terminal
.
├── __pycache__
│   └── __init__.cpython-310.pyc
├── dbt_dagster_project
│   ├── __init__.py
│   ├── assets.py
│   ├── constants.py
│   ├── definitions.py
│   └── schedules.py
├── pyproject.toml
└── setup.py
```

To get our dagster webserver up and running, we uncomment the `/dbt_dagster_project/dbt_dagster_project/schedules.py` file and run

```terminal
cd dbt_dagster_project
DAGSTER_DBT_PARSE_PROJECT_ON_LOAD=1 dagster dev
```

![Dagster Webserver](/images/dagster-webserver.png)
